import{a as H,r as l,b as U,j as e,G as J}from"./index-DJmngt_-.js";import{C as K,a as Q}from"./applicationApi-CQqtXAJF.js";import{P as X,a as Z,D as p,b as ee}from"./style-MshoPIIT.js";import{c as f,e as re}from"./en-Drp4P3V2.js";import{P as se}from"./package-DrclGZO-.js";import{S as te}from"./search-7t_-g3A6.js";import{F as M}from"./file-text-CXd8-jbj.js";import{C as le}from"./circle-check-big-BvdRZU6M.js";f.registerLocale(re);f.registerLocale(ee);const xe=()=>{const{t:r,i18n:P}=H(),[z,h]=l.useState(1),[i,j]=l.useState(!1),[n,y]=l.useState({}),[d,A]=l.useState({}),[v,N]=l.useState(!1),[w,C]=l.useState(null),[k,R]=l.useState(null),[_,o]=l.useState(null),{isLoggedIn:W,user:$}=U(),b=l.useCallback((s,c)=>{A(t=>({...t,[c]:s}))},[]),m=l.useCallback((s,c)=>{if(c==="phone"&&typeof s=="string")y(t=>({...t,phone:s}));else if(typeof s=="object"&&"target"in s){const{name:t,value:u}=s.target;y(x=>({...x,[t]:u}))}},[]),T=async s=>{if(s.preventDefault(),o(null),n.dateOfBirth){const a=new Date,g=new Date(n.dateOfBirth);let I=a.getFullYear()-g.getFullYear();const E=a.getMonth()-g.getMonth();if((E<0||E===0&&a.getDate()<g.getDate())&&I--,I<18){o(r("common.age_validation"));return}}const t=["fullName","email","phone","dateOfBirth","nationality","address"].filter(a=>!n[a]);if(t.length>0){o(`${r("common.fill_required_fields")}: ${t.join(", ")}`);return}if(!d.idCopy||!d.photo||!d.oldLicenseCopy){o(r("common.upload_required_documents"));return}if(!$?.id){o(r("common.login_required_text"));return}const{fullName:u,email:x,phone:L,dateOfBirth:q,nationality:F,address:D}=n,{idCopy:S,photo:B,oldLicenseCopy:O}=d;if(!u||!x||!L||!q||!F||!D||!S||!B||!O){o(r("common.fill_required_fields"));return}const G={fullName:u,email:x,phone:L,nationality:F,address:D,idCopy:S,photo:B,oldLicenseCopy:O,dateOfBirth:new Date(q).toISOString()};N(!0),C(null);try{const a=await Q(G);R(a.data.trackingNumber),h(4)}catch(a){C(a.message||r("common.submission_failed"))}finally{N(!1)}},V=l.useCallback(s=>{s.preventDefault();const t=["fullName","email","phone","dateOfBirth","nationality","address"].filter(u=>!n[u]);if(t.length>0){o(`${r("common.fill_required_fields")}: ${t.join(", ")}`);return}if(!d.idCopy||!d.photo||!d.oldLicenseCopy){o(r("common.upload_required_documents"));return}o(null),j(!0),h(2)},[n,d,r]),Y=[r("idl.steps.upload"),r("idl.steps.review"),r("idl.steps.payment"),r("idl.steps.delivery")];return k?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-12 text-center max-w-2xl w-full border border-gray-100",children:[e.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(le,{className:"w-12 h-12 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:r("common.submission_successful")}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your application has been successfully submitted and is being processed."}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("p",{className:"text-lg text-gray-700 mb-2",children:r("common.tracking_number_is")}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:k})]})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-100",children:[e.jsxs("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),e.jsx("div",{className:"container-custom text-center relative z-10",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight",children:r("idl.title")}),e.jsx("p",{className:"text-xl md:text-2xl text-blue-100 mb-8 leading-relaxed",children:r("idl.subtitle")}),e.jsx("button",{onClick:()=>document.getElementById("apply")?.scrollIntoView({behavior:"smooth"}),className:"bg-white text-blue-600 px-10 py-4 rounded-full text-lg font-semibold hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-lg",children:r("common.apply_now")})]})})]}),e.jsx("section",{className:"py-20 bg-white",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsx("div",{className:"group",children:e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-blue-100",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:e.jsx(J,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:r("idl.eligibility.title")}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:r("idl.eligibility.content")})]})}),e.jsx("div",{className:"group",children:e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-green-100",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:e.jsx(se,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:r("idl.process.title")}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:r("idl.process.content")})]})}),e.jsx("div",{className:"group",children:e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-purple-100",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:e.jsx(te,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:r("idl.faq.title")}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:r("idl.faq.content")})]})})]})})}),e.jsx("section",{id:"apply",className:"py-20 bg-gradient-to-br from-gray-50 to-blue-100",children:e.jsxs("div",{className:"container-custom",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:r("common.apply_now")}),e.jsx("p",{className:"text-xl text-gray-600",children:"Complete your application in just a few simple steps"})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-100",children:e.jsxs("div",{className:"p-8",children:[e.jsx(X,{currentStep:z,steps:Y}),W?e.jsx("div",{className:"mt-8",children:e.jsxs("form",{onSubmit:i?T:V,children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-100",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[e.jsx(M,{className:"w-6 h-6 text-blue-600"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{name:"fullName",placeholder:r("common.full_name"),onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",required:!0,disabled:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{name:"email",type:"email",placeholder:r("common.email"),onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",required:!0,disabled:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e.jsx(Z,{name:"phone",placeholder:r("common.phone"),value:n.phone,onChange:s=>m(s||"","phone"),className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",required:!0,disabled:i,defaultCountry:"US",international:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),e.jsx("input",{name:"dateOfBirth",type:"date",placeholder:r("common.date_of_birth"),onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",required:!0,disabled:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nationality"}),e.jsxs("select",{name:"nationality",value:n.nationality||"",onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",required:!0,disabled:i,children:[e.jsx("option",{value:"",children:r("common.select_nationality")}),Object.entries(f.getNames(P.language==="ar"?"ar":"en")).map(([s,c])=>e.jsx("option",{value:c,children:c},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("input",{name:"address",placeholder:r("common.address"),onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",required:!0,disabled:i})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border border-green-100",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center",children:[e.jsx(M,{className:"w-6 h-6 text-green-600"}),"Required Documents"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(p,{onFileChange:s=>b(s,"idCopy"),label:r("idl.id_copy")}),e.jsx(p,{onFileChange:s=>b(s,"photo"),label:r("idl.personal_photo")}),e.jsx(p,{onFileChange:s=>b(s,"oldLicenseCopy"),label:r("idl.old_license_copy")})]})]})]}),(_||w)&&e.jsx("div",{className:"mt-8 p-4 bg-red-50 border border-red-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(K,{className:"w-5 h-5 text-red-600 mr-2"}),e.jsx("p",{className:"text-red-700 font-medium",children:_||w})]})}),e.jsx("div",{className:"mt-12 flex flex-col sm:flex-row gap-4 justify-center",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:()=>{j(!1),h(1)},className:"px-8 py-4 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all duration-300 font-semibold border border-gray-300 hover:border-gray-400",children:[e.jsx("svg",{className:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 17l-5-5m0 0l5-5m-5 5h12"})}),r("common.edit")]}),e.jsx("button",{type:"submit",className:"px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",disabled:v,children:v?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r("common.submitting")]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),r("common.submit_application")]})})]}):e.jsxs("button",{type:"submit",className:"px-12 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx("svg",{className:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),r("common.review_application")]})})]})}):e.jsxs("div",{className:"text-center p-12 bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-200 rounded-2xl mt-8",children:[e.jsx("div",{className:"w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-10 h-10 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-2xl font-bold text-yellow-800 mb-4",children:r("common.login_required_title")}),e.jsx("p",{className:"text-yellow-700 text-lg",children:r("common.login_required_text")})]})]})})})]})})]})};export{xe as default};
